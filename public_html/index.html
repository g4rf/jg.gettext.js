<!-- /**
 * jqGettext is able to translate static HTML pages with the help of jQuery as
 * GNU gettext does it with dynamic pages.
 * 
 * This file is the gui for jqgettext-parser.js.
 * 
 * @license GNU GPL v3 https://www.gnu.org/licenses/gpl-3.0
 * @version 0.2beta
 * @author Jan Kossick admin@g4rf.net
 * @link https://github.com/g4rf/jq.gettext.js.git
 * @updated 2017-03-03
 */ -->
<!DOCTYPE html>
<html><head>
	<title>jqGettext Parser</title>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	
	<meta name="gettext-lang" content="en_US" />
	<meta name="gettext-type" content="po" />
	
	<style>
		html { box-sizing: border-box; } 
		*, ::before, ::after { box-sizing: inherit; }
		
		#left, #right {
			position: fixed;
			overflow: auto;
			top: 0;
			bottom: 0;
			width: 48%;
			margin: 1%;
			padding: 1%;
		}
		#left {
			left: 0;
			overflow-x: hidden;
		}
		#right {
			right: 0;
			border: solid 1px #ccc;
			padding: 1%;
		}
		fieldset {
			margin: 1% 0;
		}
		.warn {
			color: #f33;
		}
	</style>
</head><body><div id="left">
	<p>
		Select language: 
		<a href="?lang=de_DE">Deutsch</a>
		<a href="?lang=en_US">English</a>
	</p>
	<h1>jqGettext Parser</h1>
	
	<div class="buttonpane">
		<button id="parse">parse</button>
		&nbsp;|&nbsp;
		<button id="write-json">write JSON</button> 
		<button id="write-pot">write POT</button>
		&nbsp;|&nbsp;
		<button id="reset">reset</button>
	</div>
	
	<fieldset>
		<legend>template</legend>
		<input type="file" id="template" />
	</fieldset>
	
	<fieldset>
		<legend>files to parse</legend>
		<input type="file" id="file" multiple />
		<p id="files"></p>
	</fieldset>
	
	<ol>
		<li>Select            a template file, if you have any.</li>
		<li>Select files for parsing.</li>
		<li>Click "parse".</li>
		<li>Repeat last two step with all files from your project.</li>
		<li>Export the new template with "write JSON" or "write POT".</li>
		<li>Download or save the file with your browser.</li>
	</ol>
	<p>Now you're ready to edit the template (e.g. with 
	<a href="https://poedit.net">Poedit</a>) and use it in your project.</p>
	
	<fieldset>
		<legend>info</legend>
		<p id="info"></p>
	</fieldset>	
	
</div><div id="right">

	<pre id="template-output"></pre>
	
</div>

	<!-- scripts -->
	<script src="js/jquery-3.1.1.min.js"></script>
	<script src="js/jq.gettext.js"></script>
	<script src="js/jq.gettext-parser.js"></script>
	<script>
		// check if language is submitted
		(function() {
			var lang = /[\?&]lang=([^&#]*)/.exec(location.search);
			if(lang[1]) {
				jqGettext.lang = lang[1];
				jqGettext.changeLanguage();
			}
		})();
	</script>
</body></html>
